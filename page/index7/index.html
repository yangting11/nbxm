<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
    <script src="../../echarts.min1.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../layuiadmin/layui/css/layui.css" media="all">
    <link href="./index.css" rel="stylesheet"></link>
    <title>Document</title>
</head>
<body>
    <div id="mapid"></div>
    <div class="rightBox" id="rightBox">
        <div class="rightBoxAll">
            <div class="toogleBox" onclick="clickToogle()">
                <img id="toogleImg" src="../../public/img/right.png" alt="向右">
            </div>
            <div class="rightBoxHeader">
                <div class="rightBoxHeaderLeft">
                    <form class="layui-form" action="">
                        <div class="layui-form-item">
                            <div class="layui-input-block">
                                <select class="rightBoxHeaderSelect" id="pageHeaderSelect" name="city" lay-verify="required">
                                    <option value=""></option>
                                    <option value="0">北京</option>
                                    <option value="1">上海</option>
                                    <option value="2">广州</option>
                                    <option value="3">深圳</option>
                                    <option value="4">杭州</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="rightBoxHeaderRight">
                    <div id="showTime"></div>
                </div>
            </div>
            <div class="rightBoxBody">
                <div class="bodyItem">
                    <div class="bodyItemTitle">
                        <span><img src="../../public/img/大饼图.png" alt=""></span>数据信息1
                    </div>
                    <form class="layui-form layui-row" action="">
                        <div class="layui-form-item">
                            <label class="layui-form-label">数据信息：</label>
                            <div class="layui-input-inline">
                                <select onchange="changeSelectBar1()" class="rightBoxHeaderSelect" id="selectpage1" lay-filter="selectpage1" name="city" lay-verify="required">
                                    <option value=""></option>
                                    <option value="0">北京</option>
                                    <option value="1">上海</option>
                                    <option value="2">广州</option>
                                    <option value="3">深圳</option>
                                    <option value="4">杭州</option>
                                </select>
                            </div>
                        </div>
                    </form>
                    <div><span class="bodyLableItem">数据信息：</span>中华人民共和国</div>
                    <div><span class="bodyLableItem">数据信息：</span>中华人民共和国</div>
                    <div class="layui-row layui-col-space10">
                        <div class="layui-col-lg6 ">
                            <button class="layui-btn layui-btn-normal layui-btn-fluid" id="bdbtn1" onclick="btn1Action()">百搭按钮1</button>
                        </div>
                        <div  class="layui-col-lg6">
                            <button class="layui-btn layui-btn-normal layui-btn-fluid" id="bdbtn2">百搭按钮2</button>
                        </div>
                    </div>
                </div>
                <div class="bodyItem">
                    <div id="coverBlock2"></div>
                    <div class="bodyItemTitle">
                        <span><img src="../../public/img/大饼图.png" alt=""></span>数据信息2
                    </div>
                    <form class="layui-form layui-row" action="">
                        <div class="layui-form-item">
                            <label class="layui-form-label">数据信息：</label>
                            <div class="layui-input-inline">
                                <select class="rightBoxHeaderSelect" lay-filter="select2" id="select2" name="city">
                                    <option value=""></option>
                                    <option value="0">北京</option>
                                    <option value="1">上海</option>
                                    <option value="2">广州</option>
                                    <option value="3">深圳</option>
                                    <option value="4">杭州</option>
                                </select>
                            </div>
                        </div>
                    </form>
                    <div><span class="bodyLableItem">数据信息：</span>中华人民共和国</div>
                    <div><span class="bodyLableItem">数据信息：</span>中华人民共和国</div>
                    <div><span class="bodyLableItem">数据信息：</span>中华人民共和国</div>
                    <div class="layui-row layui-col-space10">
                        <div class="layui-col-lg6 ">
                            <button class="layui-btn layui-btn-normal layui-btn-fluid" id="bdbtn3" onclick="btn3Action()">百搭按钮3</button>
                        </div>
                        <div  class="layui-col-lg6">
                            <button class="layui-btn layui-btn-normal layui-btn-fluid" id="bdbtn4" >百搭按钮4</button>
                        </div>
                    </div>
                </div>
                <div class="bodyItem">
                    <div id="coverBlock3"></div>
                    <div class="bodyItemTitle">
                        <span><img src="../../public/img/大饼图.png" alt=""></span>数据信息3
                    </div>
                    <form class="layui-form layui-row" action="">
                        <div class="layui-form-item">
                            <label class="layui-form-label">数据信息：</label>
                            <div class="layui-input-inline">
                                <select class="rightBoxHeaderSelect" lay-filter="select3" id="select3" name="city" lay-verify="required">
                                    <option value=""></option>
                                    <option value="0">北京</option>
                                    <option value="1">上海</option>
                                    <option value="2">广州</option>
                                    <option value="3">深圳</option>
                                    <option value="4">杭州</option>
                                </select>
                            </div>
                        </div>
                    </form>
                    <div><span class="bodyLableItem">数据信息：</span>中华人民共和国</div>
                    <div><span class="bodyLableItem">数据信息：</span>中华人民共和国</div>
                    <div><span class="bodyLableItem">数据信息：</span>中华人民共和国</div>
                    <button class="layui-btn layui-btn-normal layui-btn-fluid" onclick="btn5Action()">百搭按钮5</button>
                </div>
                <div class="bodyItem">
                    <div id="coverBlock4"></div>
                    <div class="bodyItemTitle">
                        <span><img src="../../public/img/大饼图.png" alt=""></span>数据信息4
                    </div>
                    <div><span class="bodyLableItem">数据信息：</span>中华人民共和国</div>
                    <button class="layui-btn layui-btn-normal layui-btn-fluid">百搭按钮6</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>
    <script src="../../layuiadmin/layui/layui.all.js"></script>
    <script>
        var ifOpen=true;
        var isDsiableBlock2=true;
        var isDsiableBlock3=true;
        var isDsiableBlock4=true;
        document.getElementById("showTime").innerHTML=transTime(new Date());
        setInterval(function(){
            document.getElementById("showTime").innerHTML=transTime(new Date());
        },1000)
        var layer = layui.layer;
        var table = layui.table;
        var form = layui.form;
        var map = map;
        form.on('select(select2)', function(data){
                    // console.log(data.value);
            openPopupInfo1()
        });
        form.on('select(select3)', function(data){
                    // console.log(data.value);
            openPopupInfo2()
        });
        initMap();
        btn1Action();
        function initMap(){
            map = L.map("mapid", {
                center: [37.005646, 114.52044],
                zoom: 11,
                fullscreenControl: false,
                zoomControl: false,
                attributionControl: false
            });
            let baseLayer=L.tileLayer("http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",{
                subdomains: "1234"
            });
            map.addLayer(baseLayer);
        }
        function transTime(time){
            let year = time.getFullYear();
            let month = formatTime(time.getMonth()+1);
            let day = formatTime(time.getDate());
            let hour = formatTime(time.getHours());
            let min = formatTime(time.getMinutes());
            let sec = formatTime(time.getSeconds());
            return year+'-'+month+'-'+day+' '+hour+':'+min+':'+sec
        }
        function formatTime(time){
            return time<10?'0'+time:time
        }
        function clickToogle(){
            if(ifOpen){
                $("#toogleImg").attr('src','../../public/img/left.png')
                $("#rightBox").css('right','-440px')
            }else{
                $("#toogleImg").attr('src','../../public/img/right.png');
                $("#rightBox").css('right','0px')
            }
            ifOpen=!ifOpen;
        }
        function btn1Action(){
            layui.use('form', function(){
            var form = layui.form; //只有执行了这一步，部分表单元素才会自动修饰成功
            layer.open({
                    title:'弹出框1',
                    type: 1,
                    shadeClose: true,
                    area:['900px', ''],
                    content: `<div class="popup1">
                                <div class="toogleContent" >
                                    <div style="width:50%;height:38px;float: left;">
                                        <button class="layui-btn layui-btn-primary btnTab layui-btn-fluid" type="0">切换按钮1</button>
                                    </div>
                                    <div style="width:50%;height:38px;float: left;">
                                        <button class="layui-btn layui-btn-primary btnTab layui-btn-fluid" type="1">切换按钮2</button>
                                    </div>
                                </div>
                                <div class="tab1">
                                    <form class="layui-form layui-row" action="">
                                        <div class="layui-form-item layui-form-pane">
                                            <label class="layui-form-label">选择框1：</label>
                                            <div class="layui-input-inline">
                                                <select class="rightBoxHeaderSelect" id="select1" name="city">
                                                    <option value=""></option>
                                                    <option value="0">北京</option>
                                                    <option value="1">上海</option>
                                                    <option value="2">广州</option>
                                                    <option value="3">深圳</option>
                                                    <option value="4">杭州</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="layui-form-item layui-form-pane">
                                            <label class="layui-form-label">短输入框</label>
                                            <div class="layui-input-inline">
                                                <input type="text" name="" id="tab1_input1" placeholder="请输入" autocomplete="off" class="layui-input">
                                            </div>
                                        </div>
                                        <div class="layui-form-item">
                                            <div class="layui-inline layui-form-pane">
                                                <label class="layui-form-label">短输入框</label>
                                                <div class="layui-input-inline" style="margin-right: 0px;">
                                                    <input type="text" class="layui-input" id="test-laydate-start1" placeholder="yyyy-MM-dd">
                                                </div>
                                                <div class="layui-form-mid" style="margin-right: 0px;"> —— </div>
                                                <div class="layui-input-inline">
                                                    <input type="text" class="layui-input" id="test-laydate-end1" placeholder="yyyy-MM-dd">
                                                </div>
                                            </div>
                                            <div class="layui-inline layui-form-pane">
                                                <label class="layui-form-label">短输入框</label>
                                                <div class="layui-input-inline">
                                                    <input type="text" name="" id="tab1_input2" placeholder="请输入" autocomplete="off" class="layui-input">
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                    <div class="actionBox">
                                        <button class="layui-btn layui-btn-normal" onclick="freeBlock2()">确定1</button>
                                        <button class="layui-btn layui-btn-warm" onclick="closeLayer()">取消</button>
                                    </div>
                                </div>
                                <div class="tab2">
                                    <form class="layui-form layui-row" action="">
                                        <div class="layui-form-item layui-form-pane">
                                            <label class="layui-form-label">选择框2：</label>
                                            <div class="layui-input-inline">
                                                <select class="rightBoxHeaderSelect" id="select2" name="city">
                                                    <option value=""></option>
                                                    <option value="0">北京</option>
                                                    <option value="1">上海</option>
                                                    <option value="2">广州</option>
                                                    <option value="3">深圳</option>
                                                    <option value="4">杭州</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="layui-form-item layui-form-pane">
                                            <label class="layui-form-label">短输入框</label>
                                            <div class="layui-input-inline">
                                                <input type="text" id="tab2_input1" name="" placeholder="请输入" autocomplete="off" class="layui-input">
                                            </div>
                                        </div>
                                        <div class="layui-form-item">
                                            <div class="layui-inline layui-form-pane">
                                                <label class="layui-form-label">短输入框</label>
                                                <div class="layui-input-inline"  style="margin-right: 0px;">
                                                    <input type="text" class="layui-input" id="tab2-start" placeholder="yyyy-MM-dd">
                                                </div>
                                                <div class="layui-form-mid"  style="margin-right: 0px;"> —— </div>
                                                <div class="layui-input-inline">
                                                    <input type="text" class="layui-input" id="tab2-end" placeholder="yyyy-MM-dd">
                                                </div>
                                            </div>
                                            <div class="layui-inline layui-form-pane">
                                                <label class="layui-form-label">短输入框</label>
                                                <div class="layui-input-inline">
                                                    <input type="text" name="" id="tab2_input2" placeholder="请输入" autocomplete="off" class="layui-input">
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                    <div class="actionBox">
                                            <button class="layui-btn layui-btn-normal" onclick="freeBlock2()">确定2</button>
                                            <button class="layui-btn layui-btn-warm" onclick="closeLayer()">取消</button>
                                        </div>
                                </div>
                            </div>`//
                });
            //但是，如果你的HTML是动态生成的，自动渲染就会失效
            //因此你需要在相应的地方，执行下述方法来手动渲染，跟这类似的还有 element.init();
            form.render();
            var laydate = layui.laydate;
            $(".btnTab").eq(0).css('background','#009688');
            $(".btnTab").eq(0).css('color','#fff');
            laydate.render({
                elem: '#test-laydate-start1'
            });
            laydate.render({
                elem: '#test-laydate-end1'
            });
            laydate.render({
                elem: '#test-laydate-start1'
            });
            laydate.render({
                elem: '#test-laydate-end1'
            });
            $(".btnTab").on('click',function(){
                if($(this).attr('type')==0){
                    //点击的是按钮1
                    $(".tab1").css('display','block');
                    $(".tab2").css('display','none');
                    $(".btnTab").eq(1).css('background','');
                    $(".btnTab").eq(1).css('color','');
                    $(".btnTab").eq(0).css('background','#009688');
                    $(".btnTab").eq(0).css('color','#fff');
                }else{
                    //点击的是按钮2
                    $(".tab2").css('display','block')
                    $(".tab1").css('display','none')
                    $(".btnTab").eq(0).css('background','');
                    $(".btnTab").eq(0).css('color','');
                    $(".btnTab").eq(1).css('background','#009688');
                    $(".btnTab").eq(1).css('color','#fff');
                    laydate.render({
                        elem: '#tab2-start'
                    });
                    laydate.render({
                        elem: '#tab2-end'
                    });
                }
            })
        })

        }  
        function freeBlock2(){
            if(isDsiableBlock2){
                isDsiableBlock2=false;
                $("#coverBlock2").css('display','none')
            }
            closeLayer()
        }    
        function btn3Action(){
            layui.use('form', function(){
            var form = layui.form; //只有执行了这一步，部分表单元素才会自动修饰成功
            layer.open({
                title:'弹出框2',
                type: 1,
                shadeClose: true,
                area:['900px', ''],
                content: `<div class="popup1" style="background:#e5e5e5">
                            <div class="tab1">
                                <form class="layui-form layui-row" action="">
                                    <div class="layui-form-item layui-form-pane">
                                        <label class="layui-form-label">短输入框</label>
                                        <div class="layui-input-inline">
                                            <input type="text" name="" id="tab21_input1" required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                                        </div>
                                    </div>                                        
                                    <div class="layui-form-item">
                                        <div class="layui-inline layui-form-pane">
                                            <label class="layui-form-label">短输入框</label>
                                            <div class="layui-input-inline" style="margin-right: 0px;">
                                                <input type="text" class="layui-input" id="tab21-start" placeholder="yyyy-MM-dd">
                                            </div>
                                            <div class="layui-form-mid" style="margin-right: 0px;"> —— </div>
                                            <div class="layui-input-inline">
                                                <input type="text" class="layui-input" id="tab21-end" placeholder="yyyy-MM-dd">
                                            </div>
                                        </div>
                                        <div class="layui-inline layui-form-pane">
                                            <label class="layui-form-label">短输入框</label>
                                            <div class="layui-input-inline">
                                                <input type="text" name="" id="tab21_input2" required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="layui-form-item layui-form-pane">
                                        <label class="layui-form-label">短输入框</label>
                                        <div class="layui-input-inline">
                                            <input type="text" name="" id="tab21_input3" required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                                        </div>
                                    </div>
                                    <div class="layui-form-item layui-form-pane">
                                        <label class="layui-form-label">选择框1：</label>
                                        <div class="layui-input-inline">
                                            <select class="rightBoxHeaderSelect" id="tab21_select" lay-filter="tab21_select" name="city" lay-verify="required">
                                                <option value=""></option>
                                                <option value="0">北京</option>
                                                <option value="1">上海</option>
                                                <option value="2">广州</option>
                                                <option value="3">深圳</option>
                                                <option value="4">杭州</option>
                                            </select>
                                        </div>
                                    </div>
                                </form>
                                <div id="tab2_btnText" style="width:100%;height:40px;display:none;border-top:1px solid #ccc">
                                    <li>文本标签1</li>
                                    <li>文本标签1</li>
                                    <li>文本标签1</li>
                                </div>
                                <div id="tab2_btnEchart" style="width:100%;height:360px;display:none"></div>
                                <div class="actionBox">
                                    <button class="layui-btn layui-btn-normal" onclick="openPopupInfo1()">确定</button>
                                    <button class="layui-btn layui-btn-warm" onclick="closeLayer()">取消</button>
                                </div>
                            </div>
                        </div>`//
                });
            //但是，如果你的HTML是动态生成的，自动渲染就会失效
            //因此你需要在相应的地方，执行下述方法来手动渲染，跟这类似的还有 element.init();
                form.render();
                var laydate = layui.laydate;
                $(".btnTab").eq(0).css('background','#009688');
                $(".btnTab").eq(0).css('color','#fff');
                laydate.render({
                    elem: '#tab21-start'
                });
                laydate.render({
                    elem: '#tab21-end'
                });
                form.on('select(tab21_select)', function(data){
                    // console.log(data.value);
                    console.log($("#tab2_btnEchart"))
                    $("#tab2_btnEchart").css('display','block');
                    $("#tab2_btnText").css('display','block');
                    drwEchartTab21()
                });
            })
        }
        function closeLayer() {
            $('.layui-layer-shade').click();
        }
        function drwEchartTab21(){
            var tab21Echart = echarts.init(document.getElementById("tab2_btnEchart"));
            var yearCount = 5;
            var categoryCount = 12;


            var xAxisData = ['海南','海口','琼海','三亚','儋州'];
            var customData = [];
            var legendData = [2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021];
            var dataList = [
                [2068,400,60,170,160],
                [2284,600,80,210,210],
                [2571,800,130,320,350],
                [2759,1000,200,450,560],
                [3150,1227,290,532,799],
                [3414,1587,477,672,908],
                [3581,1589,446,763,802],
                [4091,1875,396,900,1082],
                [4527,1945,438,936,1817],
                [4789,1886,504,1021,1006],
                [5325.7417,1903.365,526.2141,1144.0482,2772.0659],
                ];


            var encodeY = [1,2,3,4,5];


            for (var i = 0; i < categoryCount; i++) {
                var val;
                var customVal = [i];
                customData.push(customVal);


                for (var j = 0; j < dataList.length; j++) {
                    var value = j === 0
                        ? echarts.number.round(val, 2)
                        : echarts.number.round(Math.max(0, dataList[j - 1][i] + (Math.random() - 0.5) * 200), 2);
                    //dataList[j].push(value);
                    customVal.push(value);
                }
            }
            var option = {
                title:{
                text:''//各地区最大负荷变化趋势  
                },
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: legendData
                },
                dataZoom: [{
                    type: 'slider',
                    start: 0,
                    end: 100
                }, {
                    type: 'inside',
                    start: 50,
                    end: 70
                }],
                xAxis: {
                    data: xAxisData
                },
                yAxis: {
                    name:'负荷（MW）',
                },
                series: [{
                    type: 'custom',
                    name: 'trend',
                    renderItem: renderItem,
                    itemStyle: {
                        borderWidth: 2
                    },
                    encode: {
                        x: 0,
                        y: encodeY
                    },
                    data: customData,
                    z: 200
                }].concat(echarts.util.map(dataList, function (data, index) {
                    return {
                        type: 'bar',
                        animation: false,
                        name: legendData[index + 1],
                        itemStyle: {
                            opacity: 0.5
                        },
                        data: data
                    };
                }))
            };
            tab21Echart.setOption(option);
        }
        function renderItem(params, api) {
            var xValue = api.value(0);
            var currentSeriesIndices = api.currentSeriesIndices();
            var barLayout = api.barLayout({
                barGap: '30%', barCategoryGap: '20%', count: currentSeriesIndices.length - 1
            });


            var points = [];
            for (var i = 0; i < currentSeriesIndices.length; i++) {
                var seriesIndex = currentSeriesIndices[i];
                if (seriesIndex !== params.seriesIndex) {
                    var point = api.coord([xValue, api.value(seriesIndex)]);
                    point[0] += barLayout[i - 1].offsetCenter;
                    point[1] -= 20;
                    points.push(point);
                }
            }
            var style = api.style({
                stroke: api.visual('color'),
                fill: null
            });


            return {
                type: 'polyline',
                shape: {
                    points: points
                },
                style: style
            };
        }
        function openPopupInfo1(){
            if(isDsiableBlock3){
                isDsiableBlock3 = false;
                $("#coverBlock3").css('display','none')
            }
            closeLayer()
            layui.use('form', function(){
                var form = layui.form; //只有执行了这一步，部分表单元素才会自动修饰成功
                layer.open({
                    title:'弹出信息框1',
                    type: 1,
                    shadeClose: true,
                    area:['900px', ''],
                    content: `<div class="popup1">
                                <div class="popupInfo1ToolBox">
                                    <div class="layui-btn-group viewActionTab1">
                                        <button class="layui-btn detailTypeTabInfo1 layui-btn-primary" type="0">
                                            <i class="layui-icon layui-icon-picture" style="font-size: 24px;"></i> 
                                        </button>
                                        <button class="layui-btn detailTypeTabInfo1 layui-btn-primary" style="padding: 0px 14px!important;" type="1">
                                            <i class="layui-icon layui-icon-table" style="font-size: 32px;"></i>  
                                        </button>
                                    </div>
                                    <div class="textBlockTabInfo1">
                                        <li>文本标签</li>
                                        <li>文本标签</li>
                                        <li>文本标签</li>
                                    </div>
                                    <div class="layui-btn-group dataActionTab1">
                                        <button class="layui-btn layui-btn-primary actionTypeTabInfo1">
                                            <i class="layui-icon layui-icon-export" style="font-size: 24px; color: #333;"></i> 
                                        </button>
                                        <button class="layui-btn layui-btn-primary actionTypeTabInfo1">
                                            <i class="layui-icon layui-icon-print" style="font-size: 24px; color: #333;"></i>
                                        </button>
                                    </div>
                                </div>
                                <div id="echartTabInfo1" style="width:100%;height:360px"></div>
                                <div id="TableTabInfo1"></div>
                            </div>`//
                });
            })
            form.render();
            drawEchartTabInfo1()
            $(".detailTypeTabInfo1").eq(0).css('background','#1E9FFF');
            $(".detailTypeTabInfo1").eq(0).find('i').css('color','#fff');
            $(".detailTypeTabInfo1").on('click',function(){
                if($(this).attr('type')==0){
                    $(".detailTypeTabInfo1").eq(0).css('background','#1E9FFF');
                    $(".detailTypeTabInfo1").eq(0).find('i').css('color','#fff');
                    $(".detailTypeTabInfo1").eq(1).css('background','');
                    $(".detailTypeTabInfo1").eq(1).find('i').css('color','');
                    $("#TableTabInfo1").css('display','none');
                    $("#echartTabInfo1").css('display','block');
                    drawEchartTabInfo1()
                }else{
                    $(".detailTypeTabInfo1").eq(1).css('background','#1E9FFF');
                    $(".detailTypeTabInfo1").eq(1).find('i').css('color','#fff');
                    $(".detailTypeTabInfo1").eq(0).css('background','');
                    $(".detailTypeTabInfo1").eq(0).find('i').css('color','');
                    $("#echartTabInfo1").css('display','none');
                    $("#TableTabInfo1").css('display','block');
                    table.render({
                        elem: '#TableTabInfo1',
                        data:[
                            {id:1,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:10000000000},
                            {id:2,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:20000000000},
                            {id:3,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:30000000000},
                            {id:4,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:40000000000},
                        ],
                        cellMinWidth: 80, //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                        cols: [[
                            {field:'id', width:80, title: 'ID', sort: true}
                            ,{field:'username', width:80, title: '用户名'}
                            ,{field:'sex', width:80, title: '性别', sort: true}
                            ,{field:'city', width:80, title: '城市'}
                            ,{field:'sign', title: '签名', width: 120, minWidth: 100} //minWidth：局部定义当前单元格的最小宽度，layui 2.2.1 新增
                            ,{field:'experience', title: '积分', sort: true}
                            ,{field:'score', title: '评分', sort: true}
                            ,{field:'classify', title: '职业'}
                            ,{field:'wealth', width:137, title: '财富', sort: true}
                        ]]
                    });
                }
            })
        }
        function drawEchartTabInfo1(){
            var tabInfo1Echart = echarts.init(document.getElementById("echartTabInfo1"));
            var option = {
                color: ['#3398DB'],
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                        type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: [
                    {
                        type: 'category',
                        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        axisTick: {
                            alignWithLabel: true
                        }
                    }
                ],
                yAxis: [
                    {
                        type: 'value'
                    }
                ],
                series: [
                    {
                        name: '直接访问',
                        type: 'bar',
                        barWidth: '60%',
                        data: [10, 52, 200, 334, 390, 330, 220]
                    }
                ]
            };

            tabInfo1Echart.setOption(option);
        }
        function btn5Action(){
            layui.use('form', function(){
            var form = layui.form; //只有执行了这一步，部分表单元素才会自动修饰成功
            layer.open({
                title:'弹出框3',
                type: 1,
                shadeClose: true,
                area:['900px', ''],
                content: `<div class="popup1">
                            <div class="tab1">
                                <form class="layui-form layui-row" action="">
                                    <div class="layui-form-item layui-form-pane">
                                        <label class="layui-form-label">短输入框</label>
                                        <div class="layui-input-inline">
                                            <input type="text" name="" id="tab31_input1" required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                                        </div>
                                    </div>                                        
                                    <div class="layui-form-item">
                                        <div class="layui-form-pane">
                                            <label class="layui-form-label" style="width: 130px;">开关-关</label>
                                            <div class="layui-input-inline addBorder">
                                                <input type="checkbox" name="close" lay-filter="tab31_switch" lay-skin="switch" lay-text="ON|OFF">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="actionBox">
                                        <button class="layui-btn layui-btn-normal" onclick="openPopupInfo2()">确定</button>
                                        <button class="layui-btn layui-btn-warm" onclick="closeLayer()">取消</button>
                                    </div>
                                </form>
                            </div>
                        </div>`//
                });
                form.render();
                form.on('switch(tab31_switch)', function(data){
                    if(data.elem.checked){
                        openPopup4();
                    }
                   
                });
            })
        }
        function openPopup4(){
            layui.use('form', function(){
            var form = layui.form; //只有执行了这一步，部分表单元素才会自动修饰成功
            parent.layer.open({
                title:'弹出框4',
                type: 1,
                shadeClose: true,
                area:['900px', ''],
                content: `<div class="popup1">
                            <div class="tab1">
                                <form class="layui-form layui-row" action="">
                                    <div class="layui-form-item layui-form-pane">
                                        <div class="layui-inline">
                                            <label class="layui-form-label">短输入框</label>
                                            <div class="layui-input-inline">
                                                <input type="text" name="" id="tab41_input1" required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                                            </div>
                                        </div>
                                        <div class="layui-inline">
                                            <label class="layui-form-label">短输入框</label>
                                            <div class="layui-input-inline">
                                                <input type="text" name="" id="tab41_input1" required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                                            </div>
                                        </div>
                                    </div>                                         
                                </form>
                                <div class="actionTab4Btns" >
                                    <button class="layui-btn">按钮</button>
                                    <button class="layui-btn">按钮</button>
                                </div>
                                <div id="tab4Table"></div>
                                <div class="actionBox">
                                    <button class="layui-btn layui-btn-normal">确定1</button>
                                    <button class="layui-btn layui-btn-normal">确定1</button>
                                    <button class="layui-btn layui-btn-warm" onclick="closeLayer1()">取消</button>
                                </div>
                            </div>
                        </div>`//
                });
                form.render();
                table.render({
                        elem: '#tab4Table',
                        data:[
                            {id:1,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:10000000000},
                            {id:2,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:20000000000},
                            {id:3,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:30000000000},
                            {id:4,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:40000000000},
                            {id:4,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:40000000000},
                            {id:4,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:40000000000},
                            {id:4,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:40000000000},
                            {id:4,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:40000000000},
                            {id:4,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:40000000000},
                            {id:4,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:40000000000},
                            {id:4,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:40000000000},
                            {id:4,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:40000000000},
                        ],
                        cellMinWidth: 80, //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                        height: '400',
                        cols: [[
                            {field:'id', title: 'ID', sort: true}
                            ,{field:'username', title: '用户名'}
                            ,{field:'sex', title: '性别', sort: true}
                        ]]
                    });
            })
        }
        function closeLayer1(){
            parent.layer.close(parent.layer.index)
        }
        function openPopupInfo2(){
            if(isDsiableBlock4){
                isDsiableBlock4=false;
                $("#coverBlock4").css('display','none')
            }
            closeLayer()
            layui.use('form', function(){
                var form = layui.form; //只有执行了这一步，部分表单元素才会自动修饰成功
                layer.open({
                    title:'弹出信息框2',
                    type: 1,
                    shadeClose: true,
                    area:['900px', ''],
                    content: `<div class="popup1">
                                <div class="popupInfo1ToolBox">
                                    <div class="layui-btn-group viewActionTab1">
                                        <button class="layui-btn detailTypeTabInfo2 layui-btn-primary" type="0">
                                            <i class="layui-icon layui-icon-picture" style="font-size: 24px;"></i> 
                                        </button>
                                        <button class="layui-btn detailTypeTabInfo2 layui-btn-primary" style="padding: 0px 14px!important;" type="1">
                                            <i class="layui-icon layui-icon-table" style="font-size: 32px;"></i>  
                                        </button>
                                    </div>
                                    <div class="textBlockTabInfo2">
                                        <li>文本标签</li>
                                        <li>文本标签</li>
                                        <li>文本标签</li>
                                        <li>文本标签</li>
                                    </div>
                                    <div class="layui-btn-group dataActionTab2">
                                        <button class="layui-btn layui-btn-primary actionTypeTabInfo2">
                                            <i class="layui-icon layui-icon-export" style="font-size: 24px; color: #333;"></i> 
                                        </button>
                                        <button class="layui-btn layui-btn-primary actionTypeTabInfo2">
                                            <i class="layui-icon layui-icon-print" style="font-size: 24px; color: #333;"></i>
                                        </button>
                                    </div>
                                </div>
                                <div id="echartTabInfo2" style="width:100%;height:360px"></div>
                                <div id="TableTabInfo2"></div>
                                
                            </div>`//
                });
            })
            form.render();
            drawEchartTabInfo2()
            $(".detailTypeTabInfo2").eq(0).css('background','#1E9FFF');
            $(".detailTypeTabInfo2").eq(0).find('i').css('color','#fff');
            $(".detailTypeTabInfo2").on('click',function(){
                if($(this).attr('type')==0){
                    $(".detailTypeTabInfo2").eq(0).css('background','#1E9FFF');
                    $(".detailTypeTabInfo2").eq(0).find('i').css('color','#fff');
                    $(".detailTypeTabInfo2").eq(1).css('background','');
                    $(".detailTypeTabInfo2").eq(1).find('i').css('color','');
                    $("#TableTabInfo2").css('display','none');
                    $("#echartTabInfo2").css('display','block');
                    drawEchartTabInfo2()
                }else{
                    $(".detailTypeTabInfo2").eq(1).css('background','#1E9FFF');
                    $(".detailTypeTabInfo2").eq(1).find('i').css('color','#fff');
                    $(".detailTypeTabInfo2").eq(0).css('background','');
                    $(".detailTypeTabInfo2").eq(0).find('i').css('color','');
                    $("#echartTabInfo2").css('display','none');
                    $("#TableTabInfo2").css('display','block');
                    table.render({
                        elem: '#TableTabInfo2',
                        data:[
                            {id:1,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:10000000000},
                            {id:2,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:20000000000},
                            {id:3,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:30000000000},
                            {id:4,username:'yt',sex:'女',city:'zj',sign:'1212121',experience:100,score:9.9,classify:'js',wealth:40000000000},
                        ],
                        cellMinWidth: 80, //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                        cols: [[
                            {field:'id', width:80, title: 'ID', sort: true}
                            ,{field:'username', width:80, title: '用户名'}
                            ,{field:'sex', width:80, title: '性别', sort: true}
                            ,{field:'city', width:80, title: '城市'}
                            ,{field:'sign', title: '签名', width: 120, minWidth: 100} //minWidth：局部定义当前单元格的最小宽度，layui 2.2.1 新增
                            ,{field:'experience', title: '积分', sort: true}
                            ,{field:'score', title: '评分', sort: true}
                            ,{field:'classify', title: '职业'}
                            ,{field:'wealth', width:137, title: '财富', sort: true}
                        ]]
                    });
                }
            })
        }
        function drawEchartTabInfo2(){
            var tabInfo2Echart = echarts.init(document.getElementById("echartTabInfo2"));
            var option = {
                xAxis: {
                    type: 'category',
                    data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
                },
                yAxis: {
                    type: 'value'
                },
                series: [{
                    data: [820, 932, 901, 934, 1290, 1330, 1320],
                    type: 'line',
                    smooth: true
                }]
            };

            tabInfo2Echart.setOption(option);
        }
    </script>
</body>
</html>